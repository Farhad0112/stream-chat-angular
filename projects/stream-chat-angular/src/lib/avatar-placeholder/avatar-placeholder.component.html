<ng-template
  #defaultAvatar
  let-name="name"
  let-imageUrl="imageUrl"
  let-size="size"
  let-type="type"
  let-channel="channel"
  let-user="user"
  let-location="location"
  let-initialsType="initialsType"
>
  <stream-avatar
    [name]="name"
    [imageUrl]="imageUrl"
    [size]="size"
    [type]="type"
    [channel]="channel"
    [user]="user"
    [location]="location"
    [initialsType]="initialsType"
  ></stream-avatar>
</ng-template>
<ng-container *ngIf="isVisible; else emptyPlaceholder">
  <ng-container
    *ngTemplateOutlet="
      (customTemplatesService.avatarTemplate$ | async) || defaultAvatar;
      context: context
    "
  ></ng-container>
</ng-container>
<ng-template #emptyPlaceholder>
  <div
    class="str-chat__avatar"
    [ngStyle]="{
      width: 'calc(var(--str-chat__spacing-px, 1px) * ' + size + ')',
      height: 'calc(var(--str-chat__spacing-px, 1px) * ' + size + ')'
    }"
  ></div>
</ng-template>
